@model MeteoStorm.InfoHub.Models.Access.LoginModel;

@{
  ViewData["Title"] = "Login";
}

<div class="d-flex justify-content-center align-items-center mt-5">
  <div class="card" style="width: 20rem;">
    <div class="card-header">
      <h5 class="mb-0 text-center card-title">Sign in to your account</h5>
      </div>
        <div class="d-flex justify-content-center align-items-center p-3">
        @using (Html.BeginForm("Login", "Access"))
        {
          @Html.AntiForgeryToken()

          <div class="form-group">
            @Html.LabelFor(model => model.Login, new { @class = "control-label" })
            @Html.TextBoxFor(x => x.Login, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Login, null, new { @class = "text-danger" })
          </div>

          <div class="form-group">
            @Html.LabelFor(model => model.Password, new { @class = "control-label" })
            @Html.PasswordFor(x => x.Password, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Password, null, new { @class = "text-danger" })
          </div>

          <button type="submit" class="btn btn-primary">Login</button>

          @if (Model != null && !string.IsNullOrEmpty(Model.ErrorMessage))
          {
            <div class="alert alert-danger">@Model.ErrorMessage</div>
          }
        }
      </div>
  </div>
</div>


@section scripts {
  <partial name="_ValidationScriptsPartial" />

  <script>
    $('form').submit(function () {
      $('.alert-danger').hide();
    });
  </script>
}